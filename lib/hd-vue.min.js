/*!
 *  hd-vue.js v1.0.7
 *  (c) 2020-2020 wishzhang
 *  Released under the MIT License.
 * 
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("HDVUE",[],e):"object"==typeof exports?exports.HDVUE=e():t.HDVUE=e()}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";var o=function(t,e,n){return e?t+n+e:t},i=function t(e,n){if("string"==typeof n)return o(e,n,"--");if(Array.isArray(n))return n.map((function(n){return t(e,n)}));var i={};return Object.keys(n||{}).forEach((function(t){i[e+"--"+t]=n[t]})),i},r={methods:{b:function(t,e){var n=this.$options.name;return t&&"string"!=typeof t&&(e=t,t=""),t=o(n,t,"__"),e?[t,i(t,e)]:t}}},a=function(t){return t.name="avue-"+t.name,t.mixins=t.mixins||[],t.mixins.push(r),t};function s(t,e,n,o,i,r,a,s){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),o&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=l):i&&(l=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:t,options:c}}var l=s(a({name:"carousel",data:function(){return{}},props:{option:{type:Object,default:function(){}}},computed:{data:function(){return this.option.data||[]}},created:function(){},mounted:function(){},watch:{},methods:{}}),(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.b(),{"avue-carousel--fullscreen":t.option.fullscreen}]},[n("el-carousel",{attrs:{type:t.option.type,height:t.option.height+"px",autoplay:t.option.autoplay,interval:t.option.interval,"indicator-position":"outside"}},t._l(t.data,(function(e,o){return n("el-carousel-item",{key:o},[n("div",{class:t.b("item")},[n("a",{attrs:{href:e.href?e.href:"javascript:void(0);",target:e.target}},[n("div",{class:t.b("img"),style:{backgroundImage:"url("+e.src+")"}}),t._v(" "),e.title?n("div",{class:t.b("title")},[t._v(t._s(e.title))]):t._e()])])])})),1)],1)}),[],!1,null,null,null).exports;function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{o||null==s.return||s.return()}finally{if(i)throw r}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}var d=s(a({name:"epub",props:{bookUrl:{type:String,default:"",required:!0}},data:function(){return{loading:!1,scrollHeight:"0px",sliderValue:0,bookName:"",book:{},rendition:{},dialogVisible:!0,catalogueVisible:!1,catalogue:[],isCatalogueClick:!1,pageIndex:0,currentLocationIndex:0,locations:[],fixIsByButton:!1,fixLocationIndex:1,currentSectionName:""}},computed:{canShow:function(){return!this.loading},pageNumber:function(){return this.fixIsByButton?this.pageIndex+1:this.fixLocationIndex+1},total:function(){return this.book&&this.book&&this.book.locations&&this.book.locations.total?this.book.locations.total-1:0},progressStr:function(){return"".concat(this.pageNumber," / ").concat(this.total)},min:function(){return 1},max:function(){return this.total}},methods:{formatTooltip:function(t){return this.max-t+1},prevClick:function(){this.pageIndex=this.fixLocationIndex,this.fixIsByButton=!0,this.pageIndex>0&&(this.pageIndex--,this.fixLocationIndex=this.pageIndex,this.rendition.display(this.locations[this.pageIndex]))},nextClick:function(){this.pageIndex=this.fixLocationIndex,this.fixIsByButton=!0,this.pageIndex<this.total-1&&(this.pageIndex++,this.fixLocationIndex=this.pageIndex,this.rendition.display(this.locations[this.pageIndex]))},close:function(){this.dialogVisible=!1,this.$emit("close")},dialogClick:function(){this.catalogueVisible=!!this.isCatalogueClick,this.isCatalogueClick=!1},catalogueClick:function(t){this.rendition.display(t),this.catalogueVisible=!1,this.isCatalogueClick=!1},sliderChange:function(t){this.currentLocationIndex=this.max-t,this.rendition.display(this.locations[this.currentLocationIndex])},mouseWheel:function(t){var e=document.getElementsByClassName("epub-container");if(e&&e.length>0){var n=e[0];n.scrollTop=n.scrollTop+t.deltaY}}},watch:{pageNumber:function(t){var e=this;this.$nextTick((function(){e.sliderValue=e.max-t+1}))},max:function(t){this.sliderValue=t}},mounted:function(){var t=this;if(window.ePub){this.loading=!0;var e=this.$loading({lock:!0,text:"正在加载中",spinner:"el-icon-loading",background:"#44454a"}),n=window.ePub(this.bookUrl)||{},o=document.getElementById("epub__book__viewer"),i=o.clientHeight,r=o.clientWidth,a=n.renderTo("epub__book__viewer",{manager:"continuous",spread:"0",flow:"scrolled",width:r,height:i,store:"true"})||{};a.display(this.pageIndex).then((function(){})),this.scrollHeight=document.getElementById("book-scrollbar").scrollHeight-25+"px",n.ready.then((function(e){var o=c(e,7),i=(o[0],o[1],o[2]),r=(o[3],o[4]);o[5],o[6];t.catalogue=r.toc,t.bookName=i.title;var a=document.getElementById("epub__book__viewer"),s=Number.parseInt(Number.parseInt(a.clientWidth,10)*Number.parseInt(a.clientHeight)/800,10);return n.locations.generate(s)})).then((function(n){e.close(),t.loading=!1,t.locations=n})).catch((function(){t.loading=!1,e.close()})),a.on("relocated",(function(e){!t.fixIsByButton&&e.start.location<=t.total-1?t.fixLocationIndex=e.start.location:t.fixIsByButton=!1})),a.themes.default({a:{color:"#222222 !important","line-height":"1.6 !important","text-decoration":"none"},"a:hover":{color:"#3380ff !important"},body:{background:"#f5f5f5",padding:"0 40px !important"},h2:{"font-size":"32px",color:"purple"},p:{"font-size":"19px !important","font-family":"Microsoft Yahei !important",color:"#222222 !important","line-height":"1.6 !important"}}),a.on("rendered",(function(e){var o=e.prev(),i=n.navigation.toc.find((function(t){return t.href.includes(e.href)}));!i&&o&&(i=n.navigation.toc.find((function(t){return t.href.includes(o.href)}))),i&&(t.currentSectionName=i.label.trim())})),this.book=n,this.rendition=a}else console.error("lack of jszip.js and epub.js !")},destroyed:function(){this.book&&this.book.destroy()}}),(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.dialogVisible?n("div",{class:t.b(),attrs:{id:"avue-epub"},on:{contextmenu:function(t){t.preventDefault()},mousewheel:t.mouseWheel,click:t.dialogClick}},[n("div",{class:t.b("book")},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.canShow,expression:"canShow"}],class:t.b("book__header")},[n("div",{class:t.b("book__header__title"),attrs:{title:t.bookName},domProps:{textContent:t._s(t.bookName)}}),t._v(" "),n("div",{class:t.b("book__header__section"),attrs:{title:t.currentSectionName},domProps:{textContent:t._s(t.currentSectionName)}}),t._v(" "),n("div",{class:t.b("book__header__page"),domProps:{textContent:t._s(t.progressStr)}})]),t._v(" "),n("div",{class:t.b("book__content"),attrs:{id:"epub__book__viewer__box"}},[n("div",{attrs:{id:"epub__book__viewer"}})]),t._v(" "),t.catalogueVisible?n("div",{directives:[{name:"show",rawName:"v-show",value:t.canShow,expression:"canShow"}],class:t.b("book__catalogue"),on:{mousewheel:function(t){t.stopPropagation()}}},[n("div",{class:t.b("book__catalogue__layer")}),t._v(" "),n("div",{class:t.b("book__catalogue__box"),on:{mousedown:function(e){t.isCatalogueClick=!0},mouseup:function(e){t.isCatalogueClick=!0}}},[n("div",{class:t.b("book__catalogue__box__header"),attrs:{title:t.bookName}},[t._v(t._s(t.bookName))]),t._v(" "),n("el-scrollbar",{staticStyle:{height:"calc(100% - 121px)","background-color":"rgb(230, 230, 230)"},attrs:{"wrap-style":"overflow-x:hidden;"},nativeOn:{"!mousedown":function(e){t.isCatalogueClick=!0},"!mouseup":function(e){t.isCatalogueClick=!0}}},[n("div",{class:t.b("book__catalogue__box__content")},t._l(t.catalogue,(function(e,o){return n("div",{key:o,class:t.b("book__catalogue__box__content__section")},[n("div",{class:t.b("book__catalogue__box__content__section__title"),on:{click:function(n){return n.stopPropagation(),t.catalogueClick(e.href)}}},[n("span",{staticClass:"name"},[t._v(t._s(e.label))]),t._v(" "),n("span",{staticClass:"page"},[t._v(t._s(e.page))])]),t._v(" "),t._l(e.subitems,(function(o,i){return n("div",{class:t.b("book__catalogue__box__content__section__chapter"),on:{click:function(n){return n.stopPropagation(),t.catalogueClick(e.href)}}},[n("span",{staticClass:"name"},[t._v(t._s(o.label))]),t._v(" "),n("span",{staticClass:"page"},[t._v(t._s(o.page))])])}))],2)})),0)])],1)]):t._e(),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.canShow,expression:"canShow"}],class:t.b("book__box1")},[n("div",{class:t.b("book__box1__button"),staticStyle:{"background-color":"#257AA7"},on:{click:function(e){e.stopPropagation(),t.catalogueVisible=!t.catalogueVisible}}},[n("i",{staticClass:"el-icon-notebook-1"}),n("em",[t._v("目录")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.canShow,expression:"canShow"}],class:t.b("book__box2")},[n("div",{class:t.b("book__box2__prev"),attrs:{title:"上一页"},on:{click:t.prevClick}},[n("i",{staticClass:"el-icon-arrow-left"})]),t._v(" "),n("div",{class:t.b("book__box2__next"),attrs:{title:"下一页"},on:{click:t.nextClick}},[n("i",{staticClass:"el-icon-arrow-right"})])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.canShow,expression:"canShow"}],class:t.b("book__box3")})]),t._v(" "),n("i",{class:["el-icon-close",t.b("close")],on:{click:function(e){return e.stopPropagation(),t.close(e)}}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.canShow,expression:"canShow"}],class:t.b("scrollbar"),attrs:{id:"book-scrollbar"}},[n("el-slider",{attrs:{"format-tooltip":t.formatTooltip,"show-tooltip":!0,vertical:"",min:t.min,max:t.max,height:t.scrollHeight},on:{change:t.sliderChange},model:{value:t.sliderValue,callback:function(e){t.sliderValue=e},expression:"sliderValue"}})],1)]):t._e()}),[],!1,null,null,null).exports,p={img:"img",title:"title",subtile:"title",tag:"tag",status:"status"},h=s(a({name:"notice",props:{option:{type:Object,default:function(){return{}}},data:{type:Array,default:function(){return[]}}},data:function(){return{page:1,loading:!1}},computed:{showFooterKey:function(){return this.option.showFooter||!0},props:function(){return this.option.props||p},imgKey:function(){return this.props.img||p.img},titleKey:function(){return this.props.title||p.title},subtitleKey:function(){return this.props.subtitle||p.subtitle},tagKey:function(){return this.props.tag||p.tag},statusKey:function(){return this.props.status||p.status},total:function(){return!this.option.total||this.option.total<0?0:this.option.total},list:function(){return this.data.slice(0,this.total)},hasLoadAll:function(){return this.total<=this.list.length}},methods:{itemClick:function(t,e,n){this.$emit("item-click",t,e,n)},handleClick:function(){var t=this;this.loading=!0;this.page++,this.$emit("page-change",this.page,(function(){t.loading=!1}))},getType:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return 0==t?"info":1==t?"":2==t?"warning":3==t?"danger":4==t?"success":void 0}}}),(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.b()},[t._l(t.list,(function(e,o){return n("div",{key:o,class:t.b("item"),on:{click:function(n){return t.itemClick(e,o,t.list)}}},[e[t.imgKey]?n("div",{class:t.b("img")},[n("img",{attrs:{src:e[t.imgKey],alt:""}})]):t._e(),t._v(" "),n("div",{class:t.b("content")},[n("div",{class:t.b("title")},[n("span",{class:t.b("name")},[t._v(t._s(e[t.titleKey]))]),t._v(" "),e[t.tagKey]?n("span",{class:t.b("tag")},[n("el-tag",{attrs:{size:"small",type:t.getType(e[t.statusKey])}},[t._v(t._s(e[t.tagKey]))])],1):t._e()]),t._v(" "),n("div",{class:t.b("subtitle")},[t._v(t._s(e[t.subtitleKey]))])])])})),t._v(" "),t.showFooterKey&&0!==t.list.length?n("div",[t.hasLoadAll?n("div",{class:t.b("all")},[t._v("\n            已加载全部\n        ")]):n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],class:t.b("more"),on:{click:t.handleClick}},[t._v("\n            加载更多\n        ")])]):t._e(),t._v(" "),0===t.list.length?n("div",[t._t("emptySlot",[n("div",{class:t.b("nothing")},[t._v("暂无数据")])])],2):t._e()],2)}),[],!1,null,null,null).exports,f=s(a({name:"numrange",model:{prop:"value",event:"change"},props:{step:{type:Number,default:1},precision:{type:Number,default:0},value:{type:String,default:""},size:{type:String,default:"small"},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},controls:{type:Boolean,default:!1}},data:function(){return{startNum:void 0,endNum:void 0}},computed:{style:function(){return{width:"50%","min-width":"80px"}}},methods:{handleStartChange:function(t){var e=this;this.$nextTick((function(){"number"==typeof t&&"number"==typeof e.endNum&&t>e.endNum?(e.startNum=e.endNum,e.$emit("change",JSON.stringify([e.endNum,e.endNum]))):e.$emit("change",JSON.stringify([t,e.endNum]))}))},handleEndChange:function(t){var e=this;this.$nextTick((function(){"number"==typeof t&&"number"==typeof e.startNum&&t<e.startNum?(e.endNum=e.startNum,e.$emit("change",JSON.stringify([e.startNum,e.startNum]))):e.$emit("change",JSON.stringify([e.startNum,t]))}))}},created:function(){this.$emit("change",JSON.stringify([this.startNum,this.endNum]))},mounted:function(){},watch:{value:function(t,e){if(t){var n=JSON.parse(t);this.startNum=n[0]?n[0]:void 0,this.endNum=n[1]?n[1]:void 0}else this.startNum=void 0,this.endNum=void 0;t!==e&&this.$emit("change",JSON.stringify([this.startNum,this.endNum]))}}}),(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:[t.b()]},[n("div",{class:t.b("wrap")},[n("el-input-number",{style:t.style,attrs:{precision:t.precision,step:t.step,"controls-position":"right",size:t.size,controls:t.controls,min:t.min,max:t.max},on:{change:t.handleStartChange},model:{value:t.startNum,callback:function(e){t.startNum=e},expression:"startNum"}}),t._v(" "),n("span",{class:t.b("separator")},[t._v("至")]),t._v(" "),n("el-input-number",{style:t.style,attrs:{precision:t.precision,step:t.step,"controls-position":"right",size:t.size,controls:t.controls,min:t.min,max:t.max},on:{change:t.handleEndChange},model:{value:t.endNum,callback:function(e){t.endNum=e},expression:"endNum"}})],1)])}),[],!1,null,null,null).exports;e.a=[l,d,h,f]},function(t,e,n){t.exports=n(2)},function(t,e,n){"use strict";n.r(e),function(t){var o=n(0),i=t.env.VERSION||n(4).version,r=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.a.map((function(e){t.component(e.name,e)})),t.prototype.$HDVUE={ui:function(){if(window.Element)return{name:"element-ui",type:"el"}}()}};"undefined"!=typeof window&&window.Vue&&r(window.Vue);var a={version:i,install:r};e.default=a}.call(this,n(3))},function(t,e){var n,o,i=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(t){n=r}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(t){o=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var t=s(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(o===clearTimeout)return clearTimeout(t);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t){t.exports=JSON.parse('{"name":"hd-vue","version":"1.0.7","description":"A Component Library for Vue.js.","main":"lib/hd-vue.min.js","unpkg":"lib/hd-vue.min.js","jsdelivr":"lib/hd-vue.min.js","scripts":{"dev":"cross-env TARGET=dev UINAME=element-ui webpack","build":"cross-env TARGET=prod UINAME=element-ui webpack"},"repository":{"type":"git","url":"git@github.com:wishzhang/hd-vue.git"},"keywords":["vue","element-ui","hd-vue"],"author":"wishzhang","license":"MIT","devDependencies":{"@babel/core":"^7.9.0","@babel/preset-env":"^7.9.0","babel-loader":"^8.1.0","cross-env":"^7.0.2","css-loader":"^3.4.2","extract-text-webpack-plugin":"^4.0.0-beta.0","node-sass":"^4.13.1","progress-bar-webpack-plugin":"^2.1.0","sass-loader":"^8.0.2","style-loader":"^1.1.3","vue-loader":"^15.9.1","vue-template-compiler":"^2.6.11","webpack":"^4.42.1","webpack-bundle-analyzer":"^3.6.1","webpack-cli":"^3.3.11","webpack-merge":"^4.2.2"},"dependencies":{"element-ui":"^2.13.0","vue":"^2.6.11"},"files":["example","lib","src","packages","styles","LICENSE","README.md"]}')}])}));